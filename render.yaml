# Render deployment configuration for Yale Newcomer Survival Guide

services:
  - type: web
    name: yale-newcomer-survival-guide
    env: docker
    dockerfilePath: ./Dockerfile
    dockerContext: .
    envVars:
      # Django secret key (auto-generated by Render)
      - key: DJANGO_SECRET_KEY
        generateValue: true
      # Debug mode (set to False for production)
      - key: DEBUG
        value: "0"
      # DuckDB database path on persistent disk
      - key: DUCKDB_PATH
        value: "/var/data/yale_newcomer.duckdb"
      # Allowed hosts (will be set automatically by Render)
      - key: ALLOWED_HOSTS
        sync: false
    healthCheckPath: /admin/login/
    autoDeploy: true
    # Attach persistent disk for DuckDB file
    disk:
      name: yale-guide-data
      mountPath: /var/data
      sizeGB: 1
